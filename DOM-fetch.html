<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>API Interaction Page</title>
  <style>
    body { font-family: Arial; margin: 20px; }
    section { margin-bottom: 30px; }
    ul, p { margin-top: 10px; }
    .card { border: 1px solid #ccc; padding: 10px; margin: 5px 0; }
  </style>
</head>
<body>

  <h1>API Interaction </h1>

  <section>
    <button onclick="loadUsers()">Load Users</button>
    <ul id="usersList"></ul>
  </section>

  
  <section>
    <button onclick="loadPosts()">Load Posts</button>
    <div id="postsContainer"></div>
  </section>

  
  <section>
    <h3>Add a New Post</h3>
    <form id="postForm">
      <input type="text" id="postTitle" placeholder="Post Title" required><br><br>
      <textarea id="postBody" placeholder="Post Body" rows="4" required></textarea><br><br>
      <button type="submit">Submit Post</button>
    </form>
    <div id="postResult"></div>
  </section>

 
  <section>
    <h3>Show Comments for a Post</h3>
    <input type="number" id="commentPostId" placeholder="Enter Post ID" min="1">
    <button onclick="loadComments()">Load Comments</button>
    <div id="commentsContainer"></div>
  </section>

  <script>
    // Load Users
    function loadUsers() {
      fetch('https://jsonplaceholder.typicode.com/users')
        .then(res => res.json())
        .then(users => {
          console.log("Users fetched:", users); // Log all users to the console
          const list = document.getElementById('usersList');
          list.innerHTML = '';
          users.forEach(user => {
            console.log(`User: ${user.name}, Email: ${user.email}, Company: ${user.company.name}`); // Log each user
            const li = document.createElement('li');
            li.textContent = `${user.name} (${user.email}) - ${user.company.name}`;
            list.appendChild(li);
          });
        });
    }
  
    // Load Posts
    function loadPosts() {
      fetch('https://jsonplaceholder.typicode.com/posts')
        .then(res => res.json())
        .then(posts => {
          console.log("Posts fetched:", posts); // Log all posts to the console
          const container = document.getElementById('postsContainer');
          container.innerHTML = '';
          posts.forEach(post => {
            console.log(`Post Title: ${post.title}, Body: ${post.body}`); // Log each post
            const div = document.createElement('div');
            div.className = 'card';
            div.innerHTML = `<strong>${post.title}</strong><p>${post.body}</p>`;
            container.appendChild(div);
          });
        });
    }
  
    // Add a New Post
    document.getElementById('postForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const title = document.getElementById('postTitle').value;
      const body = document.getElementById('postBody').value;
  
      fetch('https://jsonplaceholder.typicode.com/posts', {
        method: 'POST',
        headers: { 'Content-type': 'application/json' },
        body: JSON.stringify({ title, body, userId: 1 })
      })
      .then(res => res.json())
      .then(data => {
        console.log("Post created:", data); // Log the created post
        document.getElementById('postResult').innerHTML = 
          `<p><strong>Post Created:</strong></p>
           <p>ID: ${data.id}</p>
           <p>Title: ${data.title}</p>
           <p>Body: ${data.body}</p>`;
        document.getElementById('postForm').reset();
      });
    });
  
    // Load Comments for a Post
    function loadComments() {
      const postId = document.getElementById('commentPostId').value;
      if (!postId) return alert('Please enter a post ID.');
  
      fetch(`https://jsonplaceholder.typicode.com/posts/${postId}/comments`)
        .then(res => res.json())
        .then(comments => {
          console.log("Comments fetched for Post ID:", postId);
          console.log(comments); // Log all comments to the console
  
          const container = document.getElementById('commentsContainer');
          container.innerHTML = '';
          comments.forEach(comment => {
            console.log(`Comment by ${comment.name}: ${comment.body}`); // Log each comment
            const div = document.createElement('div');
            div.className = 'card';
            div.innerHTML = `<strong>${comment.name}</strong><p>${comment.body}</p>`;
            container.appendChild(div);
          });
        });
    }
  </script>

</body>
</html>
