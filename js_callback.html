<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Callback Practice</title>
</head>
<body>
  <h1>Callback Function Examples</h1>
  <script>

  
    function greet(name, callback) {
      callback(name);
    }
    const nameInput = prompt("Enter your name:");
    greet(nameInput, (name) => console.log(` Hello, ${name}!`));


    function calculate(a, b, operation, operatorSymbol) {
  const result = operation(a, b);
  console.log(`Math calculation- ${a} ${operatorSymbol} ${b} = ${result}`);
}

const num1 = parseFloat(prompt("Enter first number:"));
const num2 = parseFloat(prompt(" Enter second number:"));
const op = prompt(" Enter operation (add, subtract, multiply, divide):");

let operation;
let operatorSymbol;

switch (op.toLowerCase()) {
  case "add":
    operation = (x, y) => x + y;
    operatorSymbol = "+";
    break;
  case "subtract":
    operation = (x, y) => x - y;
    operatorSymbol = "-";
    break;
  case "multiply":
    operation = (x, y) => x * y;
    operatorSymbol = "*";
    break;
  case "divide":
    operation = (x, y) => x / y;
    operatorSymbol = "/";
    break;
  default:
    console.error(" Invalid operation");
    operation = () => "Invalid";
    operatorSymbol = "?";
}

calculate(num1, num2, operation, operatorSymbol);


function processArray(arr, callback) {
      const newArray = arr.map(callback);
      console.log("Processed Array:", newArray);
    }
    const arrayInput = prompt("Enter numbers separated by commas(eg: 1,2,3):");
    const array = arrayInput.split(",").map(Number);
    processArray(array, (n) => n * 2);


function getData(callback) {
  setTimeout(() => {
    const mockData = {
      id: 1,
      name: "Sample Data",
      message: "This is mock data from a fake API call"
    };
    callback(mockData);
  }, 1000);
}

getData((data) => {
  console.log(" Received Data:", data);
});


//5th task
function login(username, callback) {
      setTimeout(() => {
        console.log(" Logged in:", username);
        callback(username);
      }, 1000);
    }

    function fetchUser(username, callback) {
      setTimeout(() => {
        const user = { username: username, id: 101 };
        console.log(" Fetched User:", user);
        callback(user);
      }, 1000);
    }

    function fetchSettings(user, callback) {
      setTimeout(() => {
        const settings = { theme: "dark", notifications: true };
        console.log(" User Settings:", settings);
        callback(settings);
      }, 1000);
    }

    const userInput = prompt(" Enter your username:");
    login(userInput, (username) => {
      fetchUser(username, (user) => {
        fetchSettings(user, (settings) => {
          console.log("done!");
        });
      });
    });

    //6th task
    function divide(a, b, successCallback, errorCallback) {
      if (b === 0) {
        errorCallback("Division by zero error!");
      } else {
        successCallback(a / b);
      }
    }

    function onSuccess(result) {
      console.log(" Division Result:", result);
    }

    function onError(error) {
      console.error(" Error:", error);
    }

    const d1 = parseFloat(prompt(" Enter numerator:"));
    const d2 = parseFloat(prompt("Enter denominator:"));
    divide(d1, d2, onSuccess, onError);



  </script>
</body>
</html>
